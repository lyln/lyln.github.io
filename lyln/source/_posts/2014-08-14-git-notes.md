---
layout: post
title:  "Git常用命令"
categories: Linux
tags: git
date: 2014/08/14
---

### 账户公钥与项目公钥区别
账户设置的 SSH 公钥是用来认证用户身份的，而项目部署公钥是用来授权项目的只读权限的。
账户 SSH 公钥是跟用户账户关联的公钥，一旦设置，就拥有账户下所有项目仓库的读写权限。
项目部署 SSH 公钥是跟项目关联的公钥，设置后有该项目的仓库的只读权限。

账户公钥相当于设置管理员权限一样，你可以clone、pull、[push]
项目公钥，为了安全起见只允许，clone和pull

#### git添加空目录
空目录empty中添加 .gitignore 文件
<!--more-->
#### 远程操作常用命令
```
1、检出仓库
$git clone git://github.com/xx.git
可以使用git:// 、http://协议
只有clone时会拉起tag
2、查看远程仓库
$git remote -v
3、添加远程仓库
$git remote add [name] [url]
4、删除远程仓库
$git remote rm [name]
5、修改远程仓库
$git remote set-url --push [name] [newUrl]
6、拉取远程仓库
$git pull [remoteName] [localBranchName]
7、推送远程仓库
$git push [remoteName] [localBranchName]
8、提交本地test分支作为远程的master
$git push origin test:master
9、提交本地test分支作为远程的test
$git push origin test:test
```

#### 分支操作常用命令
```
1、查看本地分支
$git branch
2、创建本地分支
$git branch [branchName]
3、创建本地分支并切换到新分支
$git checkout -b [branchName]
4、拉取远程分支
$git checkout -b [newBranch] [remoteName/branchName]
5、删除分支
$git branch -d [branchName]
6、合并分支
$git merge name
7、本地分支推送到远程
$git push origin [branchName]
8、删除远程分支
$git push origin :refs/heads/name
```
#### git回滚操作
```
1、git reset --hard 回滚到上一次
```

#### tag操作常用命令
```
1、创建带注释的tag
$git tag -a [name] -m "yourMessage"
2、删除本地tag
$git tag -d [name]
3、本地tag推送到远程
$git push origin [name]
4、删除远程tag版本
$git push origin :refs/tags/[name]（推送一个空标签覆盖远程标签）
$git push origin --delete tag tag_name
$git push origin [tag_name] --delete
5、合并远程仓库的tag到本地
$git pull origin --tags
6、推送本地所有tag到远程仓库
$git push origin --tags
7、查看tag信息
$git show tag_name
```

#### git打包发布
```
$git archive --format=tar.gz --prefix=xxx-v0.0.x/ -o /opt/smwh/xxx-v0.0.x.tar.gz v0.0.x
v0.0.x指定打包那个标签的内容
```

#### links:
<http://rogerdudler.github.io/git-guide/index.zh.html>
<http://git-scm.com/book/zh>